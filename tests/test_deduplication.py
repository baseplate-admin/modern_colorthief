import modern_colorthief
from pathlib import Path
import os

BASE_DIR = Path(__file__).resolve().parent

path = os.path.join(BASE_DIR, "kaiju_no_8.jpg")
TARGET = [
    (147, 135, 117),
    (64, 93, 85),
    (70, 66, 62),
    (64, 133, 125),
    (118, 142, 144),
    (189, 195, 195),
    (57, 171, 158),
    (102, 134, 121),
    (105, 165, 156),
    (147, 55, 48),
    (184, 76, 59),
    (164, 168, 149),
    (29, 13, 11),
    (9, 14, 11),
    (131, 170, 157),
    (87, 81, 77),
    (232, 243, 244),
    (194, 231, 236),
    (151, 189, 182),
    (217, 44, 20),
    (63, 103, 114),
    (62, 74, 77),
    (171, 161, 120),
    (228, 51, 19),
    (97, 28, 21),
    (102, 111, 97),
    (195, 230, 213),
    (66, 147, 158),
    (194, 36, 22),
    (204, 36, 20),
    (37, 31, 17),
    (168, 88, 85),
    (103, 50, 32),
    (212, 144, 142),
    (42, 50, 46),
    (180, 184, 168),
    (226, 178, 170),
    (41, 34, 33),
    (178, 156, 92),
    (98, 109, 121),
    (172, 56, 54),
    (24, 46, 41),
    (178, 215, 204),
    (18, 132, 118),
    (207, 199, 192),
    (133, 200, 199),
    (142, 118, 78),
    (185, 125, 106),
    (185, 54, 37),
    (120, 116, 144),
    (102, 91, 74),
    (99, 97, 101),
    (104, 192, 192),
    (17, 94, 83),
    (212, 129, 123),
    (181, 38, 37),
    (196, 27, 21),
    (105, 190, 176),
    (98, 80, 50),
    (226, 202, 194),
    (133, 186, 182),
    (95, 95, 92),
    (7, 62, 51),
    (52, 56, 51),
    (117, 94, 71),
    (201, 175, 149),
    (164, 35, 31),
    (188, 20, 20),
    (52, 44, 46),
    (119, 50, 46),
    (106, 158, 118),
    (68, 164, 132),
    (228, 188, 188),
    (57, 116, 84),
    (26, 19, 28),
    (59, 51, 33),
    (64, 117, 99),
    (148, 31, 20),
    (230, 60, 28),
    (188, 28, 19),
    (116, 209, 212),
    (166, 212, 228),
    (100, 148, 172),
    (144, 20, 16),
    (76, 188, 188),
    (228, 36, 18),
    (156, 104, 98),
    (204, 172, 128),
    (152, 188, 120),
    (132, 108, 60),
    (172, 28, 24),
    (49, 94, 52),
    (164, 195, 188),
    (180, 23, 19),
    (113, 127, 88),
    (133, 204, 185),
    (185, 25, 28),
    (85, 68, 65),
    (181, 12, 13),
    (112, 212, 204),
    (184, 164, 168),
    (212, 28, 22),
    (8, 40, 44),
    (116, 124, 72),
    (174, 200, 214),
    (228, 60, 44),
    (188, 20, 12),
    (180, 20, 4),
    (192, 20, 20),
]


def test_deduplication():
    x = modern_colorthief.get_palette(path, 255)

    assert x == TARGET
